<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/dashboard.css" />
  </head>
  <body>
    <div class="dash-container">
      <header class="dash-header">
        <h1>Store Management</h1>
        <div class="header-actions">
          <button id="logout-btn" class="btn btn-danger">Logout</button>
        </div>
      </header>

      <div class="grid-stats">
        <div class="stat-card">
          <h3>Total Revenue</h3>
          <div class="value" id="total-revenue">0.00 EGP</div>
        </div>
        <div class="stat-card">
          <h3>Orders Count</h3>
          <div class="value" id="total-orders">0</div>
        </div>
        <div class="stat-card">
          <h3>Products in Stock</h3>
          <div class="value" id="total-products">0</div>
        </div>
      </div>

      <div class="panel">
        <h2>Add New Product</h2>
        <form id="add-product-form" class="form-grid">
          <input type="text" id="p-name" placeholder="Product Name" required />
          <input
            type="number"
            id="p-price"
            placeholder="Price"
            step="0.5"
            required
          />
          <input
            type="number"
            id="p-stock"
            placeholder="Initial Stock"
            required
          />
          <input
            type="text"
            id="p-barcode"
            placeholder="Barcode (Scan or Type)"
          />
          <input type="text" id="p-category" placeholder="Category" />

          <div class="file-input-wrapper">
            <label>Product Image</label>
            <input type="file" id="p-image" accept="image/*" />
          </div>

          <button type="submit" class="btn btn-success btn-full-width">
            ADD PRODUCT
          </button>
        </form>
      </div>

      <div class="panel">
        <h2>Inventory Status</h2>
        <div class="table-wrapper">
          <table class="inventory-table">
            <thead>
              <tr>
                <th class="col-img">Img</th>
                <th>Details</th>
                <th>Price</th>
                <th>Stock</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="inventory-body"></tbody>
          </table>
        </div>
      </div>

      <div class="panel">
        <h2>Recent Sales Transactions</h2>
        <div class="table-wrapper">
          <table class="inventory-table">
            <thead>
              <tr>
                <th>Date & Time</th>
                <th>Cashier</th>
                <th>Total Amount</th>
                <th>Items Count</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="sales-table-body"></tbody>
          </table>
        </div>
      </div>

      <div class="panel">
        <h2>System Users</h2>
        <div class="table-wrapper">
          <table class="inventory-table">
            <thead>
              <tr>
                <th>Username</th>
                <th>Role</th>
                <th>Password</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="users-table-body"></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="delete-modal" class="modal-overlay hidden">
      <div class="modal-box">
        <h3 class="text-danger">⚠️ Confirm Action</h3>
        <p id="delete-msg" class="modal-msg">Are you sure?</p>
        <div class="modal-actions">
          <button id="confirm-delete-btn" class="btn btn-danger">
            Yes, Delete
          </button>
          <button id="cancel-delete-btn" class="btn btn-secondary">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <div id="edit-modal" class="modal-overlay hidden">
      <div class="modal-box">
        <h3>Update Stock</h3>
        <p id="edit-product-name" class="highlight-text"></p>
        <input
          type="number"
          id="new-stock-input"
          placeholder="New Quantity"
          class="input-center"
        />
        <div class="modal-actions">
          <button id="save-stock-btn" class="btn btn-success">Update</button>
          <button id="cancel-edit-btn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <div id="sale-modal" class="modal-overlay hidden">
      <div class="modal-box">
        <h3>Transaction Details</h3>
        <div id="sale-receipt-content" class="receipt-paper"></div>
        <div class="modal-actions">
          <button id="sale-print-btn" class="btn btn-primary">Print</button>
          <button id="close-sale-modal-btn" class="btn btn-secondary">
            Close
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="js/dashboard.js"></script>
  </body>
</html>
